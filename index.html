<!DOCTYPE html>
<html lang="en">
<head>
<meta name="google-site-verification" content="usx3PV4qqpZ_vmQ_nX8RP8zr11PVk8wLF02BNzOb5qM" /> 
<link rel="icon" href="./favicon.ico" type="image/x-icon">
<link rel="icon" type="image/png" sizes="32x32" href="./favicon-32.png">
<link rel="icon" type="image/png" sizes="16x16" href="./favicon-16.png">
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>QloudSpace – Cloud Platform for Secure File Access</title>
<meta name="description" content="QloudSpace is a secure cloud platform that lets users generate tokens, access portals, and manage files online. Built for speed and simplicity." />
<meta name="keywords" content="QloudSpace, Qloud Space, cloud website, Qloud GitHub, storage, online">
<meta name="robots" content="index, follow">
<meta property="og:title" content="QloudSpace – Cloud Platform">
<meta property="og:description" content="QloudSpace cloud platform. Open-source on GitHub.">
<meta property="og:url" content="https://qloudspace.vercel.app/">
 
<script src="https://cdn.tailwindcss.com"></script>
<!-- Updated Spline Viewer Library -->
<script type="module" src="https://unpkg.com/@splinetool/viewer@1.12.27/build/spline-viewer.js"></script>

<style>
  @import url("https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700&display=swap");

  body {
    background-color: transparent;
    font-family: "Poppins", sans-serif;
    color: #0f172a;
    min-height: 100vh;
    margin: 0;
    overflow-x: hidden;
  }

  /* Loader Overlay */
  #loader {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: #ffffff;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    z-index: 9999;
    transition: opacity 0.6s ease;
  }

  /* Fade-in for the UI */
  #main-content {
    opacity: 0;
    transition: opacity 0.8s ease;
  }

  /* Spline Background Container */
  #spline-bg {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 0;
  }

.site-logo {
  position: fixed;
  top: 26px;
  left: 26px;   
  height: 120px;
  width: auto;
  z-index: 1200;
  opacity: 0.9;
  cursor: pointer;
}

.site-logo:hover {
  opacity: 1;
}


  /* Fixed wrapper for top-right positioning */
  .box-wrapper {
    position: fixed;
    top: 32px;
    right: 32px;
    z-index: 1000;
    pointer-events: none;
  }

  /* Container for the animated box */
  .box {
    position: relative;
    width: 220px; 
    height: 60px;  
    background: #ffffff;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.04);
    border-radius: 14px;
    display: flex;
    justify-content: center;
    align-items: center;
    transition: 
      width 0.5s cubic-bezier(0.23, 1, 0.32, 1),
      height 0.5s cubic-bezier(0.23, 1, 0.32, 1),
      box-shadow 0.5s ease,
      border-radius 0.5s ease,
      border-color 0.3s ease;
    border: 1px solid #e2e8f0;
    cursor: pointer;
    overflow: hidden;
    pointer-events: auto;
  }

  /* Expanded state - Triggered by hover OR focus */
  .box:hover,
  .box.is-focused {
    width: 400px;
    height: 250px; 
    box-shadow: 0 30px 60px -12px rgba(0, 0, 0, 0.12);
    border-radius: 24px;
    border-color: #cbd5e1;
    cursor: default;
  }

  /* Initial state text */
  .initial-text {
    position: absolute;
    z-index: 1001;
    color: #475569;
    text-transform: uppercase;
    font-weight: 600;
    font-size: 0.85rem;
    letter-spacing: 0.05em;
    transition: opacity 0.25s cubic-bezier(0.4, 0, 0.2, 1), transform 0.3s ease;
    pointer-events: none;
    display: flex;
    align-items: center;
    gap: 10px;
    margin-left: 24px;
  }

  .box:hover .initial-text,
  .box.is-focused .initial-text {
    opacity: 0;
    transform: scale(0.95);
  }

  /* Mouse Guide Animation */
  .mouse-guide {
    position: absolute;
    top: 20px;
    left: -30px;
    z-index: 1002;
    color: #6366f1;
    opacity: 0;
    pointer-events: none;
    animation: guideSequence 3.5s infinite ease-in-out;
  }

  .mouse-guide::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 20px;
    height: 20px;
    background: rgba(99, 102, 241, 0.4);
    border-radius: 50%;
    transform: translate(-50%, -50%) scale(0);
    opacity: 0;
    animation: clickRipple 3.5s infinite ease-in-out;
  }

  .box:hover .mouse-guide,
  .box.is-focused .mouse-guide {
    opacity: 0 !important;
    animation: none !important;
  }

  @keyframes guideSequence {
    0% { left: -20px; opacity: 0; transform: scale(1); }
    10% { opacity: 1; }
    40% { left: 45px; opacity: 1; transform: scale(1); }
    45% { transform: scale(0.8); }
    50% { transform: scale(1); }
    75% { left: 45px; opacity: 1; }
    85% { left: 80px; opacity: 0; }
    100% { left: 80px; opacity: 0; }
  }

  @keyframes clickRipple {
    0%, 45% { transform: translate(-50%, -50%) scale(0); opacity: 0; }
    50% { transform: translate(-50%, -50%) scale(1.5); opacity: 0.6; }
    65% { transform: translate(-50%, -50%) scale(3); opacity: 0; }
    100% { opacity: 0; }
  }
  
  /* Form Content Styling */
  .login-container {
    position: absolute;
    inset: 0;
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column;
    padding: 1.5rem 2rem;
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.4s ease;
    transition-delay: 0.05s;
  }

  .box:hover .login-container,
  .box.is-focused .login-container {
    opacity: 1;
    pointer-events: auto;
  }
  
  .loginBx {
    width: 100%;
    transform: translateY(15px);
    filter: blur(4px);
    transition: transform 0.5s cubic-bezier(0.23, 1, 0.32, 1), filter 0.5s ease;
  }
  
  .box:hover .loginBx,
  .box.is-focused .loginBx {
    transform: translateY(0);
    filter: blur(0);
  }

  .primary-btn {
    background: #4f46e5;
    color: #ffffff;
    transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .primary-btn:hover {
    background: #4338ca;
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(79, 70, 229, 0.2);
  }

  #msgBox {
    position: fixed;
    top: 24px;
    left: 50%;
    transform: translateX(-50%);
    padding: 14px 28px;
    border-radius: 12px;
    display: none;
    z-index: 2000;
    font-weight: 500;
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
    animation: fadeInDown 0.3s ease;
  }

  @keyframes fadeInDown {
    from { opacity: 0; transform: translate(-50%, -15px); }
    to { opacity: 1; transform: translate(-50%, 0); }
  }

  .token-title {
    font-size: 1.35rem;
    font-weight: 700;
    color: #1e293b;
    margin-bottom: 0.25rem;
  }

  .token-desc {
    font-size: 0.85rem;
    color: #64748b;
    margin-bottom: 1.5rem;
    line-height: 1.4;
  }

  /* ---Bottom Right Utility --- */
  .corner-ui {
    position: fixed;
    bottom: 15px;
    right: 20px;
    z-index: 2000;
    background: rgba(255, 255, 255, 0.85);
    backdrop-filter: blur(12px);
    padding: 10px 14px;
    border-radius: 14px;
    display: flex;
    align-items: center;
    gap: 10px;
    font-size: 16px;
    font-weight: 600;
    cursor: pointer;
    user-select: none;
    border: 1px solid #e2e8f0;
    box-shadow: 0 4px 12px rgba(0,0,0,0.05);
    transition: all 0.2s ease;
  }

  .corner-ui:hover {
    background: #ffffff;
    transform: translateY(-2px);
    box-shadow: 0 6px 16px rgba(0,0,0,0.1);
  }

  .dot {
    width: 8px;
    height: 8px;
    background: #22c55e;
    border-radius: 50%;
  transform: translateY(0.5px);  }
/* =======================
   QLOUD ORBITAL LOADER
   ======================= */

:root {
  --dot-color: #5d55e5;

  --dot-small:10px;
  --dot-medium: 10px;
  --dot-large: 40px;

  --orbit-radius: 34px;
  --anim-scale: 1.8;
  --anim-speed: 2.2s;
}

.qloud-logo {
  position: relative;
  width: 80px;
  height: 80px;
  display: flex;
  justify-content: center;
  align-items: center;
}

.ldot {
  position: absolute;
  background: var(--dot-color);
  border-radius: 50%;
}

.d1 {
  width: var(--dot-small);
  height: var(--dot-small);
  animation: orbitA var(--anim-speed) ease-in-out infinite;
}

.d2 {
  width: var(--dot-large);
  height: var(--dot-large);
  z-index: 2;
  animation: pulseCenter var(--anim-speed) ease-in-out infinite;
}

.d3 {
  width: var(--dot-medium);
  height: var(--dot-medium);
  animation: orbitB var(--anim-speed) ease-in-out infinite;
}

@keyframes orbitA {
  0% {
    transform: rotate(-135deg) translateX(var(--orbit-radius)) rotate(135deg) scale(1);
    opacity: 0.7;
  }
  50% {
    transform: rotate(45deg) translateX(var(--orbit-radius)) rotate(-45deg) scale(var(--anim-scale));
    opacity: 1;
  }
  100% {
    transform: rotate(225deg) translateX(var(--orbit-radius)) rotate(-225deg) scale(1);
    opacity: 0.7;
  }
}

@keyframes orbitB {
  0% {
    transform: rotate(45deg) translateX(var(--orbit-radius)) rotate(-45deg) scale(1);
    opacity: 0.7;
  }
  50% {
    transform: rotate(225deg) translateX(var(--orbit-radius)) rotate(-225deg) scale(var(--anim-scale));
    opacity: 1;
  }
  100% {
    transform: rotate(405deg) translateX(var(--orbit-radius)) rotate(-405deg) scale(1);
    opacity: 0.7;
  }
}

@keyframes pulseCenter {
  0%, 100% { transform: scale(1.1); }
  50% { transform: scale(0.95); }
}

@media (max-width: 768px) {
  .site-logo {
    height: 90px;
    top: 16px;
    left: 16px;
  }

  .box:hover, .box.is-focused {
   width:330px;
   height:246px;
  }

  .box-wrapper:has(.box:hover) ~ header .site-logo,
  .box-wrapper:has(.box.is-focused) ~ header .site-logo {
    opacity: 0;
    pointer-events: none;
  }
}

.eye-toggle {
  position: absolute;
  right: 12px;
  top: 50%;
  transform: translateY(-50%);
  color: #64748b;
  transition: 0.25s ease;
}

.eye-toggle:hover {
  color: #4f46e5;
  transform: translateY(-50%) scale(1.05);
}

.token-field.secure {
  -webkit-text-security: disc;
}

 
</style>
</head>

<body>

<noscript>
  <h1>QloudSpace Cloud Platform</h1>
  <p>
    Access QloudSpace cloud services using secure tokens.
    Generate new tokens or open existing portals online.
  </p>
</noscript>
 
 <section style="display:none">
  <h1>QloudSpace Cloud Platform</h1>
  <p>
    QloudSpace is a modern cloud-based platform that allows users to securely
    access portals using unique tokens. It is designed for fast access,
    simple authentication, and smooth cloud interaction.
  </p>
</section>

  <!-- Loading Screen -->
<div id="loader">
  <div class="qloud-logo mb-6">
    <span class="ldot d1"></span>
    <span class="ldot d2"></span>
    <span class="ldot d3"></span>
  </div>
</div>


<div id="msgBox"></div>

<!-- New Interactive Spline Background -->
<div id="spline-bg">
  <spline-viewer id="mainSpline" url="https://prod.spline.design/X0Iyfpl6NpQd1AHX/scene.splinecode"></spline-viewer>
</div>

<!-- Main UI Wrapped for synchronized reveal -->
<div id="main-content">
  <div class="box-wrapper">
    <div class="box" id="portalBox">
      <div class="mouse-guide">
        <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
          <path d="m3 3 7.07 16.97 2.51-7.39 7.39-2.51L3 3z"></path>
        </svg>
      </div>

      <h2 class="initial-text">Portal Access</h2>

      <div class="login-container">
        <div class="loginBx">
          <h2 class="token-title text-center">Enter Token</h2>
          <p class="token-desc text-center">
            Existing tokens will be loaded, new ones registered.
          </p>

          <div class="flex gap-2 relative">

  <div class="relative flex-1">
    <input
      id="tokenInput"
      type="text"
      autocomplete="off"
      placeholder="Eg. Qloud"
      class="token-field w-full px-4 py-3 pr-12 rounded-xl bg-slate-50 border border-slate-200 outline-none focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 transition-all font-mono text-sm"
    />

    <!-- Themed Eye Toggle -->
    <button type="button" id="togglePassword" class="eye-toggle">
      
      <!-- Eye Icon -->
      <svg id="eyeIcon" xmlns="http://www.w3.org/2000/svg" 
        width="20" height="20" viewBox="0 0 24 24"
        fill="none" stroke="currentColor" stroke-width="2"
        stroke-linecap="round" stroke-linejoin="round">
        
        <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/>
        <circle cx="12" cy="12" r="3"/>
        
        <!-- Slash -->
        <line id="eyeSlash" x1="4" y1="4" x2="20" y2="20" 
              style="opacity:1; transition:0.25s ease"/>
      </svg>

    </button>
  </div>

  <button
    id="openBtn"
    class="px-5 py-3 rounded-xl font-bold primary-btn text-xs uppercase tracking-wide"
  >
    Open
  </button>

</div>
            <button
              id="createBtn"
              class="w-full mt-2 py-3 rounded-xl border-2 border-slate-100 text-slate-500 font-semibold hover:bg-slate-50 transition-all text-xs"
            >
              Generate New Token
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <header>
    <img src="./logo.svg" alt="Qloud Logo" class="site-logo">
  </header>
 
  <!-- Bottom-right Utility Widget -->
  <div class="corner-ui" onclick="toggleRobo()">
    <div class="dot" id="roboDot"></div>
    <span id="roboText">Robo Active</span>
  </div>
</div>

<script>
// --- PAGE LOAD LOGIC ---
const spline = document.getElementById('mainSpline');
const loader = document.getElementById('loader');
const content = document.getElementById('main-content');

// Wait for Spline to load assets before revealing UI
spline.addEventListener('load', () => {
  loader.style.opacity = '0';
  content.style.opacity = '1';
  setTimeout(() => {
    loader.style.display = 'none';
  }, 600);
});

// Failsafe: If Spline takes too long (> 5s), show UI anyway
setTimeout(() => {
  if (loader.style.display !== 'none') {
    loader.style.opacity = '0';
    content.style.opacity = '1';
    setTimeout(() => { loader.style.display = 'none'; }, 600);
  }
}, 5000);

function showMsg(text, type = 'error') {
  const box = document.getElementById('msgBox');
  box.textContent = text;
  box.style.display = 'block';
  box.style.background = type === 'error' ? '#fff1f2' : '#f0fdf4';
  box.style.color = type === 'error' ? '#be123c' : '#15803d';
  box.style.border = `1px solid ${type === 'error' ? '#fecdd3' : '#bbf7d0'}`;
  
  setTimeout(() => { 
    box.style.opacity = '0';
    setTimeout(() => {
      box.style.display = 'none';
      box.style.opacity = '1';
    }, 300);
  }, 3500);
}

// --- NEW: Robo Toggle Logic ---
let roboEnabled = true;
function toggleRobo() {
  const spline = document.getElementById('mainSpline');
  const dot = document.getElementById('roboDot');
  const text = document.getElementById('roboText');
  
  roboEnabled = !roboEnabled;
  spline.style.pointerEvents = roboEnabled ? 'auto' : 'none';
  dot.style.background = roboEnabled ? '#22c55e' : '#ef4444';
  text.textContent = roboEnabled ? 'Robo Active' : 'Robo Paused';
}

const prefixes = ["Shadow", "Crimson", "Void", "Eternal", "Golden", "Dark", "Holy", "Silent", "Burning", "Frozen", "Storm", "Lunar", "Solar", "Iron", "Mystic", "Phantom", "Ghost", "Omega", "Alpha", "Zen", "Blazing", "Hidden", "Raging", "Cursed"];
const suffixes = ["Slayer", "Hokage", "Shinobi", "Reaper", "Titan", "Hunter", "Pirate", "King", "Queen", "Knight", "Spirit", "Demon", "God", "Hero", "Villain", "Warrior", "Sage", "Master", "Legend", "Ronin", "Samurai", "Bender", "Alchemist"];
const coreNames = ["Naruto", "Sasuke", "Luffy", "Zoro", "Goku", "Vegeta", "Ichigo", "Rukia", "Tanjiro", "Nezuko", "Zenitsu", "Inosuke", "Mikasa", "Eren", "Levi", "Armin", "Saitama", "Genos", "Deku", "Bakugo", "Todoroki", "Gojo", "Itadori", "Megumi", "Nobara", "Killua", "Gon", "Kurapika", "Hisoka", "Edward", "Alphonse", "Mustang", "Spike", "Faye", "Jet", "Alucard", "Seras", "Kaneki", "Touka", "Kirito", "Asuna", "Sinon", "Natsu", "Lucy", "Gray", "Erza", "Light", "Ryuk", "Lelouch", "Suzaku", "Shinji", "Rei", "Asuka", "Mitsuha", "Taki", "Rimuru", "Ainz", "Soma", "Erina", "Meliodas", "Ban", "King", "Escanor", "Guts", "Griffith", "Yusuke", "Hiei", "Kurama", "Kenshin", "Vash", "Mugen", "Jin", "Alibaba", "Morgiana"];

function generateCoolAnimeToken() {
  const roll = Math.random();
  const name = coreNames[Math.floor(Math.random() * coreNames.length)];
  if (roll < 0.4) return `${prefixes[Math.floor(Math.random() * prefixes.length)]} ${name}`;
  if (roll < 0.8) return `${name} ${suffixes[Math.floor(Math.random() * suffixes.length)]}`;
  return `${prefixes[Math.floor(Math.random() * prefixes.length)]} ${name} ${suffixes[Math.floor(Math.random() * suffixes.length)]}`;
}

const portalBox = document.getElementById('portalBox');
const tokenInput = document.getElementById('tokenInput');
const openBtn = document.getElementById('openBtn');
const createBtn = document.getElementById('createBtn');

// Prevent portal collapse when focused
tokenInput.addEventListener('focus', () => {
  portalBox.classList.add('is-focused');
});

tokenInput.addEventListener('blur', () => {
  portalBox.classList.remove('is-focused');
});

async function ensureToken(token) {
  const res = await fetch('/api/token', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({ token })
  });
  const data = await res.json();
  if (!res.ok) throw new Error(data.error || 'Token API error');
  return data;
}


const DEV_TOKEN = "qloud";
const DEV_REPO_URL = "https://github.com/namviat/Qloud.git";


openBtn.onclick = async () => {
  const token = secureMode ? realValue.trim() : tokenInput.value.trim();
  if (!token) return showMsg('Please enter a token');
   if (token.toLowerCase() === DEV_TOKEN) {
    window.open(DEV_REPO_URL, "_blank");
    return;
  }
  try {
    await ensureToken(token);
    window.location.href = `/upload.html?token=${encodeURIComponent(token)}`;
  } catch (e) {
    showMsg('Failed to verify token');
  }
};

 tokenInput.onkeydown = (e) => {
  if (e.key === "Enter") openBtn.click();
};

createBtn.onclick = async () => {
  const token = generateCoolAnimeToken();
  realValue = token;
  if (secureMode) {
    maskAll();
  } else {
    tokenInputField.value = token;
  }
  try {
    await ensureToken(token);
  } catch (e) {
    showMsg('Failed to create new token');
  }
};

 const tokenInputField = document.getElementById("tokenInput");
const toggleBtn = document.getElementById("togglePassword");
const slash = document.getElementById("eyeSlash");

let secureMode = true;
let realValue = "";

// ---------- Eye Toggle ----------
toggleBtn.addEventListener("click", () => {
  secureMode = !secureMode;

  slash.style.opacity = secureMode ? "1" : "0";

  if (secureMode) {
    maskAll();
  } else {
    tokenInputField.value = realValue;
  }
});
tokenInputField.addEventListener("input", (e) => {

  if (!secureMode) {
    realValue = tokenInputField.value;
    return;
  }

  const newVal = e.target.value;
  if (newVal.length > realValue.length) {

    const newChar = newVal.slice(-1);
    realValue += newChar;

    showLastChar();

  }
  else {
  realValue = realValue.slice(0, newVal.length);
  if (secureMode) {
    maskAll();
  } else {
    tokenInputField.value = realValue;
  }
}

});

function maskAll() {
  tokenInputField.value = "•".repeat(realValue.length);
}

function showLastChar() {

  const masked = "•".repeat(realValue.length - 1) + realValue.slice(-1);
  tokenInputField.value = masked;

  clearTimeout(tokenInputField.hideTimer);

  tokenInputField.hideTimer = setTimeout(() => {
    maskAll();
  }, 600);
}

</script>

</body>
</html>
